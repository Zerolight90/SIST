package pm;

import java.util.Scanner;

public class Ex8_Array_Test2 {

   public static void main(String[] args) {
      /* 
       * 렘덤 숫자 1~9난수 발생
          배열에 3개를 저장
          컴퓨터 숫자 맞추기
          
       */
      int[] com = new int[3];
      int[] user = new int[3];
      
      int strike_count = 0; //이 변수가 3이 될때 프로그램 종료
      int ball_count = 0; //볼카운터
      int count = 1; //시도한 횟수
      
      //키보드로 부터 입력 받기 위한 스케너 준비
      Scanner scan = new Scanner(System.in);
      
      for(int i = 0; i<com.length;) { //렌덤 숫자 생성
         com[i] = (int)(Math.random()*9+1); //1~9  까지 난수 발생
         Boolean chk = true; 
      
         for(int j=0; j<i; j++) { //중복 숫자 체크반복문
         
            if(com[i] == com[j]) {
            
               chk = false;
               break;
               
            }// chk가 false일 경우 if문(중복된 값이 존재)
         } // 안쪽for문   
         if(chk) {
            ++i;
         }//chk가 true 일 경우 if문(중복된 값이 없을 경우)
         
      } //바깥쪽 for문
      
      //컴퓨터 숫자 확인
     
         System.out.printf("com : %d, %d, %d\r\n",com[0],com[1],com[2]);
      
      
      System.out.println("\r\n======================");
         
      
      
      
      
      do {
         System.out.println(count+"차: ");
         String str = scan.nextLine();
         for(int i = 0; i<str.length(); i++) {
            char ch = str.charAt(i);
            user[i] = ch-48; // '1'이 코드값으로 49이므로 48을 빼면 1이 user[i]번째에저장
         }//사용자가 입력한 문자열을 숫자로 변경하여 user배열에 저장했다.
         
         //스트라이크 카운트하는 반복문 
         for(int i=0; i<com.length; i++) {
            if(user[i] == com[i]) {
            	strike_count++;
               
            }//System.out.println("스트라크 아웃");
         }
         
         //볼 카운트하는 반복문
         for(int i = 0; i<com.length; i++) {
        	  if(user[i] == com[(i+1)%com.length]) {
              	ball_count++;
        	  }else if(user[i] == com[(i+2)%com.length]) {
        		  ball_count++;
        	  }
        		  break;
        	 /*
        	 
            if(user[i]!=com[i]&&user[i]==com[0]) {
               ball_count++;}
            if(user[i]!=com[i]&&user[i]==com[1]) {
               ball_count++;}
            if(user[i]!=com[i]&&user[i]==com[2]) {
               ball_count++;}
            
         }
        
         */
        	  
         //System.out.println(ball_count);
        // count++;
      }while(strike_count != 3);
      
      
      

   }

}
